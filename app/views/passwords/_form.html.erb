<%= form_with model: password do |f| %>
  <% if f.object.errors.any? %>
    <% f.object.errors.full_messages.each do |m| %>
      <div>
        <%= m %>
      </div>
    <% end %>
  <% end %>
  <div class="field">
    <%= f.label :url %>
    <%= f.url_field :url %>
  </div>

  <div class="field">
    <%= f.label :username %>
    <%= f.text_field :username %>
  </div>

  <div class="field">
    <%= f.label :password %>
    <%= f.text_field :password %>
  </div>
  <div class="field">
    <%= f.submit %>
    <%= button_tag "Delete", form: "delete_password" if f.object.persisted? && current_user_password.deletable? %>
  </div>
<% end %>

<%= form_with model: password, method: :delete, id: "delete_password", data: {turbo_confirm: "Are you sure?"} %>